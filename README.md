# Инструкция по запуску проекта

## Запуск Backend и базы данных через Docker

В корне проекта выполните команду:

```bash
docker-compose up --build
```

Будут подняты два сервиса:

* **Backend (NestJS)** — порт `3000`
* **PostgreSQL** — порт `5432`

Все миграции и подключение к базе произойдут автоматически.

---

## Запуск мобильного приложения (React Native + Expo)

1. Перейдите в папку `frontend` и установите зависимости:

   ```bash
   cd frontend
   npm install
   ```

2. Запустите Expo:

   ```bash
   npx expo start
   ```

---

## Настройка доступа к backend для мобильного клиента

API-запросы настроены следующим образом:

```ts
const baseURL =
  Platform.OS === "android"
    ? "http://10.0.2.2:3000"
    : "http://localhost:3000";
```

### Использование на устройствах

* **Android эмулятор** — `http://10.0.2.2:3000`
* **iOS эмулятор / Expo Go на компьютере** — `http://localhost:3000`
* **Реальное устройство**:

  Замените `localhost` на локальный IP вашего компьютера в файле:

  `frontend/api/axios.ts`

  ```ts
  const baseURL =
    Platform.OS === "android"
      ? "http://10.0.2.2:3000"
      : "http://192.168.X.XX:3000"; // ваш IP
  ```

  Узнать IP можно командой:

  ```bash
  ifconfig | grep inet
  ```

**Важно:**

* Компьютер и мобильное устройство должны находиться в **одной Wi-Fi сети**
* После изменения IP **перезапустите Expo-приложение**
* Для проверки на эмуляторе **ничего менять не нужно**

---

## Пример успешного сценария

1. Склонировать репозиторий.
2. Запустить backend и БД через Docker.
3. Запустить Expo-проект.
4. На эмуляторе всё работает “из коробки”.
5. Для реального устройства — указать свой IP.
